{"is_source_file": true, "format": "JavaScript (ES Modules)", "description": "This file provides client-side functions for interacting with the backend API of a music streaming platform, including user registration, login, playlist management, and track addition functionalities.", "external_files": ["fetch (built-in API)", "localStorage (browser API)"], "external_methods": ["fetch", "localStorage.setItem", "localStorage.getItem", "localStorage.removeItem"], "published": ["register", "login", "storeAuthData", "getAuthData", "clearAuthData", "isAuthenticated", "createPlaylist", "addTrackToPlaylist"], "classes": [], "methods": [{"name": "apiRequest(endpoint, options = {})", "description": "Performs an HTTP request using fetch with the specified endpoint and options, handling JSON parsing and error checking.", "scope": "", "scopeKind": ""}, {"name": "register(email, password, username = null)", "description": "Registers a new user with email, password, and optional username, calling the backend API.", "scope": "", "scopeKind": ""}, {"name": "login(email, password)", "description": "Logs in a user with email and password, calling the backend API.", "scope": "", "scopeKind": ""}, {"name": "storeAuthData(accessToken, user)", "description": "Stores the retrieved access token and user object into local storage.", "scope": "", "scopeKind": ""}, {"name": "getAuthData()", "description": "Retrieves access token and user data from local storage.", "scope": "", "scopeKind": ""}, {"name": "clearAuthData()", "description": "Removes authentication data from local storage, effectively logging out the user.", "scope": "", "scopeKind": ""}, {"name": "isAuthenticated()", "description": "Checks if there is a valid access token present indicating user authentication.", "scope": "", "scopeKind": ""}, {"name": "createPlaylist(name)", "description": "Creates a new playlist for the authenticated user by calling the API with the playlist name.", "scope": "", "scopeKind": ""}, {"name": "addTrackToPlaylist(playlistId, trackData)", "description": "Adds a track to a specified playlist by sending track data to the backend API, requires user to be authenticated.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "localStorage.setItem", "localStorage.getItem", "localStorage.removeItem"], "search-terms": ["apiClient", "music streamer", "authentication", "playlist management", "track addition", "React environment variable"], "state": 2, "file_id": 13, "knowledge_revision": 95, "git_revision": "59e3c82e93a4e472eb0095f4bd47ae2339c618ae", "revision_history": [{"32": "145ad5c4d179a40d687c62d44a94bb57906a6ded"}, {"36": "145ad5c4d179a40d687c62d44a94bb57906a6ded"}, {"85": "59e3c82e93a4e472eb0095f4bd47ae2339c618ae"}, {"95": "59e3c82e93a4e472eb0095f4bd47ae2339c618ae"}], "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_BACKEND_URL || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^    'Content-Type': 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.defaultHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "addTrackToPlaylist", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function addTrackToPlaylist(playlistId, trackData) {$/", "language": "JavaScript", "kind": "function", "signature": "(playlistId, trackData)"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^async function apiRequest(endpoint, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(endpoint, options = {})"}, {"_type": "tag", "name": "clearAuthData", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export function clearAuthData() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "createPlaylist", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function createPlaylist(name) {$/", "language": "JavaScript", "kind": "function", "signature": "(name)"}, {"_type": "tag", "name": "defaultHeaders", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^  const defaultHeaders = {$/", "language": "JavaScript", "kind": "class", "scope": "apiRequest", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^  const body = { email, password };$/", "language": "JavaScript", "kind": "field", "scope": "register.body", "scopeKind": "class"}, {"_type": "tag", "name": "getAuthData", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export function getAuthData() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isAuthenticated", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export function isAuthenticated() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function login(email, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password)"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function register(email, password, username = null) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password, username = null)"}, {"_type": "tag", "name": "storeAuthData", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export function storeAuthData(accessToken, user) {$/", "language": "JavaScript", "kind": "function", "signature": "(accessToken, user)"}], "hash": "a56dbed10747810fafa0cc4f873ba0a3", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/api/apiClient.js", "fields": [{"name": "'Content-Type': 'application\\/json',", "scope": "apiRequest.defaultHeaders", "scopeKind": "class", "description": "unavailable"}, {"name": "const body = { email, password };", "scope": "register.body", "scopeKind": "class", "description": "unavailable"}]}