{"is_source_file": true, "format": "JavaScript", "description": "This file provides an API client module for interacting with a backend service in a React frontend. It contains functions for user authentication (register, login), managing playlists (create, fetch, update), adding tracks to playlists, and managing user favorites. The code utilizes fetch API for HTTP requests and manages authentication tokens with localStorage.", "external_files": ["fetch API (built-in, no external file)", "localStorage (browser API, not a file)", "environment variables via process.env"], "external_methods": ["fetch"], "published": ["register", "login", "storeAuthData", "getAuthData", "clearAuthData", "isAuthenticated", "createPlaylist", "getPlaylistWithItems", "updatePlaylist", "addTrackToPlaylist", "getFavorites", "addFavorite", "removeFavorite"], "classes": [], "methods": [{"name": "apiRequest(endpoint, options = {})", "description": "Performs an HTTP request to the backend API with error handling.", "scope": "", "scopeKind": ""}, {"name": "register(email, password, username = null)", "description": "Registers a new user with email, password, and optional username.", "scope": "", "scopeKind": ""}, {"name": "login(email, password)", "description": "Logs in an existing user with email and password.", "scope": "", "scopeKind": ""}, {"name": "storeAuthData(accessToken, user)", "description": "Stores authentication tokens and user info in localStorage.", "scope": "", "scopeKind": ""}, {"name": "getAuthData()", "description": "Retrieves stored authentication tokens and user info.", "scope": "", "scopeKind": ""}, {"name": "clearAuthData()", "description": "Removes authentication data from localStorage.", "scope": "", "scopeKind": ""}, {"name": "isAuthenticated()", "description": "Checks if the user is authenticated based on stored token.", "scope": "", "scopeKind": ""}, {"name": "createPlaylist(name, description = '', is_public = true)", "description": "Creates a new playlist for the authenticated user.", "scope": "", "scopeKind": ""}, {"name": "getPlaylistWithItems(playlistId)", "description": "Fetches a playlist along with its items.", "scope": "", "scopeKind": ""}, {"name": "updatePlaylist(playlistId, updates)", "description": "Updates a playlist's description and privacy status.", "scope": "", "scopeKind": ""}, {"name": "addTrackToPlaylist(playlistId, trackData)", "description": "Adds a track to a specified playlist.", "scope": "", "scopeKind": ""}, {"name": "getFavorites()", "description": "Retrieves all favorite tracks for the authenticated user.", "scope": "", "scopeKind": ""}, {"name": "addFavorite(trackId)", "description": "Adds a track to user's favorites.", "scope": "", "scopeKind": ""}, {"name": "removeFavorite(trackId)", "description": "Removes a track from user's favorites.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "JSON.parse", "localStorage.getItem", "localStorage.setItem", "localStorage.removeItem"], "search-terms": ["apiClient.js", "register", "login", "createPlaylist", "getPlaylistWithItems", "addTrackToPlaylist", "getFavorites", "addFavorite", "removeFavorite"], "state": 2, "file_id": 13, "knowledge_revision": 131, "git_revision": "30e78dfc9554ccbfe2c4ec54353059217a40e919", "revision_history": [{"32": "145ad5c4d179a40d687c62d44a94bb57906a6ded"}, {"36": "145ad5c4d179a40d687c62d44a94bb57906a6ded"}, {"85": "59e3c82e93a4e472eb0095f4bd47ae2339c618ae"}, {"95": "59e3c82e93a4e472eb0095f4bd47ae2339c618ae"}, {"101": "15b5fe2f2e08d5b1071e82e9c349f3027c9d465c"}, {"110": "bb6a5c903da1ce19cfe3c19b24936111c53c7f6e"}, {"114": "30e78dfc9554ccbfe2c4ec54353059217a40e919"}, {"131": "30e78dfc9554ccbfe2c4ec54353059217a40e919"}], "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_BACKEND_URL || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^    'Content-Type': 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.defaultHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "addFavorite", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function addFavorite(trackId) {$/", "language": "JavaScript", "kind": "function", "signature": "(trackId)"}, {"_type": "tag", "name": "addTrackToPlaylist", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function addTrackToPlaylist(playlistId, trackData) {$/", "language": "JavaScript", "kind": "function", "signature": "(playlistId, trackData)"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^async function apiRequest(endpoint, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(endpoint, options = {})"}, {"_type": "tag", "name": "audius_stream_url", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^    audius_stream_url: trackData.audius_stream_url$/", "language": "JavaScript", "kind": "property", "scope": "addTrackToPlaylist.payload", "scopeKind": "class"}, {"_type": "tag", "name": "audius_track_id", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^    audius_track_id: trackData.audius_track_id,$/", "language": "JavaScript", "kind": "property", "scope": "addTrackToPlaylist.payload", "scopeKind": "class"}, {"_type": "tag", "name": "clearAuthData", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export function clearAuthData() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "createPlaylist", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function createPlaylist(name, description = '', is_public = true) {$/", "language": "JavaScript", "kind": "function", "signature": "(name, description = '', is_public = true)"}, {"_type": "tag", "name": "defaultHeaders", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^  const defaultHeaders = {$/", "language": "JavaScript", "kind": "class", "scope": "apiRequest", "scopeKind": "class"}, {"_type": "tag", "name": "duration_seconds", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^    duration_seconds: trackData.duration_seconds,$/", "language": "JavaScript", "kind": "property", "scope": "addTrackToPlaylist.payload", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^  const body = { email, password };$/", "language": "JavaScript", "kind": "field", "scope": "register.body", "scopeKind": "class"}, {"_type": "tag", "name": "getAuthData", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export function getAuthData() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getFavorites", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function getFavorites() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getPlaylistWithItems", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function getPlaylistWithItems(playlistId) {$/", "language": "JavaScript", "kind": "function", "signature": "(playlistId)"}, {"_type": "tag", "name": "isAuthenticated", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export function isAuthenticated() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function login(email, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password)"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^  const payload = { name };$/", "language": "JavaScript", "kind": "field", "scope": "createPlaylist.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^  const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "addTrackToPlaylist", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function register(email, password, username = null) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password, username = null)"}, {"_type": "tag", "name": "removeFavorite", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function removeFavorite(trackId) {$/", "language": "JavaScript", "kind": "function", "signature": "(trackId)"}, {"_type": "tag", "name": "storeAuthData", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export function storeAuthData(accessToken, user) {$/", "language": "JavaScript", "kind": "function", "signature": "(accessToken, user)"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^    title: trackData.title,$/", "language": "JavaScript", "kind": "property", "scope": "addTrackToPlaylist.payload", "scopeKind": "class"}, {"_type": "tag", "name": "updatePlaylist", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function updatePlaylist(playlistId, updates) {$/", "language": "JavaScript", "kind": "function", "signature": "(playlistId, updates)"}], "hash": "107015c1a92a95ce3f0a03e633057bba", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/api/apiClient.js", "fields": [{"name": "'Content-Type': 'application\\/json',", "scope": "apiRequest.defaultHeaders", "scopeKind": "class", "description": "unavailable"}, {"name": "audius_stream_url: trackData.audius_stream_url", "scope": "addTrackToPlaylist.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "audius_track_id: trackData.audius_track_id,", "scope": "addTrackToPlaylist.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "duration_seconds: trackData.duration_seconds,", "scope": "addTrackToPlaylist.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "const body = { email, password };", "scope": "register.body", "scopeKind": "class", "description": "unavailable"}, {"name": "const payload = { name };", "scope": "createPlaylist.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "title: trackData.title,", "scope": "addTrackToPlaylist.payload", "scopeKind": "class", "description": "unavailable"}]}