{"is_source_file": true, "format": "JavaScript", "description": "This file provides an API client for interacting with a backend server in a React frontend project. It includes functions for user authentication (register, login), playlist management (create, get, update playlists), and track management within playlists (add tracks). It handles API request configuration, token storage, and ensures secure access to protected endpoints.", "external_files": ["fetch API (built-in browser API)"], "external_methods": ["fetch"], "published": ["register", "login", "storeAuthData", "getAuthData", "clearAuthData", "isAuthenticated", "createPlaylist", "getPlaylistWithItems", "updatePlaylist", "addTrackToPlaylist"], "classes": [], "methods": [{"name": "apiRequest(endpoint, options = {})", "description": "Core function to make HTTP requests to the backend API, handling JSON responses and errors.", "scope": "", "scopeKind": ""}, {"name": "register(email, password, username = null)", "description": "Registers a new user with email, password, and optional username.", "scope": "", "scopeKind": ""}, {"name": "login(email, password)", "description": "Authenticates a user and retrieves login tokens.", "scope": "", "scopeKind": ""}, {"name": "storeAuthData(accessToken, user)", "description": "Stores authentication data (access token and user info) in local storage.", "scope": "", "scopeKind": ""}, {"name": "getAuthData()", "description": "Retrieves stored authentication data from local storage.", "scope": "", "scopeKind": ""}, {"name": "clearAuthData()", "description": "Removes authentication data from local storage.", "scope": "", "scopeKind": ""}, {"name": "isAuthenticated()", "description": "Checks if user is authenticated based on stored token.", "scope": "", "scopeKind": ""}, {"name": "createPlaylist(name)", "description": "Creates a new playlist for the authenticated user.", "scope": "", "scopeKind": ""}, {"name": "getPlaylistWithItems(playlistId)", "description": "Fetches a specific playlist along with its tracks.", "scope": "", "scopeKind": ""}, {"name": "updatePlaylist(playlistId, updates)", "description": "Updates playlist details such as description and public/private status.", "scope": "", "scopeKind": ""}, {"name": "addTrackToPlaylist(playlistId, trackData)", "description": "Adds a track with specified data to a playlist.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "apiRequest"], "search-terms": ["apiClient.js", "backend communication", "auth", "playlist", "track", "localStorage"], "state": 2, "file_id": 13, "knowledge_revision": 101, "git_revision": "15b5fe2f2e08d5b1071e82e9c349f3027c9d465c", "revision_history": [{"32": "145ad5c4d179a40d687c62d44a94bb57906a6ded"}, {"36": "145ad5c4d179a40d687c62d44a94bb57906a6ded"}, {"85": "59e3c82e93a4e472eb0095f4bd47ae2339c618ae"}, {"95": "59e3c82e93a4e472eb0095f4bd47ae2339c618ae"}, {"101": "15b5fe2f2e08d5b1071e82e9c349f3027c9d465c"}], "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_BACKEND_URL || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^    'Content-Type': 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.defaultHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "addTrackToPlaylist", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function addTrackToPlaylist(playlistId, trackData) {$/", "language": "JavaScript", "kind": "function", "signature": "(playlistId, trackData)"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^async function apiRequest(endpoint, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(endpoint, options = {})"}, {"_type": "tag", "name": "clearAuthData", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export function clearAuthData() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "createPlaylist", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function createPlaylist(name) {$/", "language": "JavaScript", "kind": "function", "signature": "(name)"}, {"_type": "tag", "name": "defaultHeaders", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^  const defaultHeaders = {$/", "language": "JavaScript", "kind": "class", "scope": "apiRequest", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^  const body = { email, password };$/", "language": "JavaScript", "kind": "field", "scope": "register.body", "scopeKind": "class"}, {"_type": "tag", "name": "getAuthData", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export function getAuthData() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getPlaylistWithItems", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function getPlaylistWithItems(playlistId) {$/", "language": "JavaScript", "kind": "function", "signature": "(playlistId)"}, {"_type": "tag", "name": "isAuthenticated", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export function isAuthenticated() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function login(email, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password)"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function register(email, password, username = null) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password, username = null)"}, {"_type": "tag", "name": "storeAuthData", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export function storeAuthData(accessToken, user) {$/", "language": "JavaScript", "kind": "function", "signature": "(accessToken, user)"}, {"_type": "tag", "name": "updatePlaylist", "path": "/home/kavia/workspace/code-generation/music-streamer-platform-296479-296488/react_frontend/src/api/apiClient.js", "pattern": "/^export async function updatePlaylist(playlistId, updates) {$/", "language": "JavaScript", "kind": "function", "signature": "(playlistId, updates)"}], "hash": "a953b02c5cd91878167cf85272f6835b", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/api/apiClient.js", "fields": [{"name": "'Content-Type': 'application\\/json',", "scope": "apiRequest.defaultHeaders", "scopeKind": "class", "description": "unavailable"}, {"name": "const body = { email, password };", "scope": "register.body", "scopeKind": "class", "description": "unavailable"}]}